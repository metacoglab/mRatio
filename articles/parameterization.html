<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Parameterization of the meta-d' model • mRatio</title>
<!-- katex math --><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css" integrity="sha384-nB0miv6/jRmo5UMMR1wu3Gz6NLsoTkbqJghGIsx//Rlm+ZU03BU6SQNC66uf4l5+" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js" integrity="sha384-7zkQWkzuo3B5mTepMUcHkMB5jZaolc2xDwL6VFqjFALcbeS9Ggm/Yr2r3Dy4lfFg" crossorigin="anonymous"></script><script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js" integrity="sha384-43gviWU0YVjaDtb/GhzOouOXtZMP/7XUzwPTstBeZFe/+rCMvRwr4yROQP43s0Xk" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script><script src="../katex-auto.js"></script><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Parameterization of the meta-d' model">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">mRatio</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/mRatio.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/alternative_distributions.html">Using alternative signal distributions with the meta-d' model</a></li>
    <li><a class="dropdown-item" href="../articles/parameterization.html">Parameterization of the meta-d' model</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/metacoglab/mRatio/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch">
<li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul>
</li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Parameterization of the meta-d' model</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/metacoglab/mRatio/blob/main/vignettes/parameterization.Rmd" class="external-link"><code>vignettes/parameterization.Rmd</code></a></small>
      <div class="d-none name"><code>parameterization.Rmd</code></div>
    </div>

    
    
<p>This vignette describes the parameterization of the meta-d’ model
used in the <code>mRatio</code> package. For an in-depth review, we
refer readers to <span class="citation">(<a href="#ref-maniscalco2012">Maniscalco and Lau 2012</a>, <a href="#ref-maniscalco2014">2014</a>)</span>.</p>
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>In metacognition research, decision-making is often categorized into
two kinds.</p>
<p>The <em>type 1</em> decision is the primary decision at hand, for
example judging the orientation of a grating as left or right, or
judging a word as either having been presented before (old) or not
(new). In the context of the meta-d’ model, the type 1 decision is a
binary decision task (i.e., either a yes-no decision task or a
two-alternative forced choice task).</p>
<p>In contrast, the <em>type 2</em> decision is the task of rating
confidence in the type 1 decision. The meta-d’ model is applicable where
the type 2 decision is categorical (i.e., confidence is rated on an
ordinal scale from <code>1</code> to <code>K</code>, where
<code>1</code> indicates low confidence and <code>K</code> indicates
high confidence).</p>
<p>In line with the distinction between type 1 and type 2 decisions, the
meta-d’ model is a conjunction of two models (one for each decision).
Both models are based in Signal Detection Theory (SDT). However, the
insight of the meta-d’ model is that the information available for type
2 decisions might differ from the information available for type 1
decisions.</p>
</div>
<div class="section level2">
<h2 id="model-for-type-1-decisions">Model for type 1 decisions<a class="anchor" aria-label="anchor" href="#model-for-type-1-decisions"></a>
</h2>
<p>Under SDT, the observer is presented with a noisy signal depending on
the underlying stimulus <span class="math inline">x_1 \sim
\mathcal{D}_S(d')</span> following a distribution <span class="math inline">\mathcal{D}</span> dependent on a stimulus <span class="math inline">S \in \{0, 1\}</span> and the observer’s sensitivity
<span class="math inline">d'</span>. Typically, <span class="math inline">\mathcal{D}</span> is chosen to be an equal-variance
normal distribution, such that</p>
<p><span class="math display">\mathcal{D}_0(d') =
\mathcal{N}\left(-\frac{d'}{2}, 1\right)</span> and <span class="math display">\mathcal{D}_1(d') =
\mathcal{N}\left(\frac{d'}{2}, 1\right)</span></p>
<p>However, this decision is not arbitrary and other options are
available.</p>
<p>Given the noisy encoding <span class="math inline">x_1</span>, the
observer is tasked with determining the true value of <span class="math inline">S</span>. To do so, they simply threshold <span class="math inline">x_1</span> such that their response is</p>
<p><span class="math display">R = [x_1 &gt; c]</span></p>
<p>In this setup, the observer makes a correct response when <span class="math inline">R = S</span>. More importantly, trials can be
categorized into <em>hits</em> (<span class="math inline">S = 1</span>
and <span class="math inline">R = 1</span>), <em>misses</em> (<span class="math inline">S = 1</span> and <span class="math inline">R =
0</span>), <em>false alarms</em> (FAs; <span class="math inline">S =
0</span> and <span class="math inline">R = 1</span>), and <em>correct
rejections</em> (CRs; <span class="math inline">S = 0</span> and <span class="math inline">R = 0</span>). The generative model for type 1
decisions above implies the following response probabilities:</p>
<p><span class="math display">
P(R=r \;\vert\; S=s) = \begin{cases}
1 - F_{\mathcal{D}_s(d')}\left(c\right) &amp; \textrm{if } r=1 \\
F_{\mathcal{D}_s(d')}\left(c\right) &amp; \textrm{if } r=0
\end{cases}
</span></p>
</div>
<div class="section level2">
<h2 id="model-for-type-2-decisions">Model for type 2 decisions<a class="anchor" aria-label="anchor" href="#model-for-type-2-decisions"></a>
</h2>
<p>In classical SDT, type 2 decisions are treated just like type 1
decisions but with more stringent or more liberal response criteria.
However, this assumes that observers have access to the same information
when making type 1 and type 2 decisions. Relaxing this assumption, the
meta-d’ model assumes that type 2 decisions are derived from a separate
decision variable:</p>
<p><span class="math display">
x_2 \sim \begin{cases}
\mathcal{D}_S^{(-\infty,
\textrm{meta-}c]}\left(\textrm{meta-}d'\right) &amp; \textrm{if }
R=0 \\
\mathcal{D}_S^{[\textrm{meta-}c,
\infty)}\left(\textrm{meta-}d'\right) &amp; \textrm{if } R=1
\end{cases}
</span></p>
<p>Importantly, this decision variable follows the same distribution as
for the type 1 decision, with two differences. First, the distribution
is truncated either above or below at the type 1 criterion <span class="math inline">\textrm{meta-}c</span> depending on the initial type
1 response. This is so that the type 2 decision cannot contradict the
type 1 decision (i.e., the meta-d’ model does not allow for changes of
mind). Second, the sensitivity for the type 2 decision is <span class="math inline">\textrm{meta-}d'</span> rather than <span class="math inline">d'</span> to allow for task-level sensitivity
and metacognitive sensitivity to differ.</p>
<p>Then, to determine the confidence level <span class="math inline">C
\in \{ 1 \ldots K\}</span>, the observer rates confidence using one of
two sets of <span class="math inline">K-1</span> ordered confidence
criteria (<span class="math inline">\textrm{meta-}c_2^0</span> or <span class="math inline">\textrm{meta-}c_2^1</span>):</p>
<p><span class="math display">
\begin{align*}
    C &amp;= \begin{cases}
    1+\Sigma_{k=1}^{K-1}[x_2 &lt; \textrm{meta-}c_{2,k}^0] &amp;
\textrm{if } R=0 \\
    1+\Sigma_{k=1}^{K-1} [x_2 &gt; \textrm{meta-}c_{2,k}^1] &amp;
\textrm{if } R=1
    \end{cases}
\end{align*}
</span></p>
<p>This generative model implies that, conditional on the stimulus and
the type 1 response, the type 2 response probabilities are</p>
<p><span class="math display">\begin{align*}
    P(C=c \;\vert\; R=r,S=s) &amp;= \begin{cases}
    \frac{F_{\mathcal{D}_s(\textrm{meta-}d')}\left(\textrm{meta-}c\right)
-
    F_{\mathcal{D}_s(\textrm{meta-}d')}\left(\textrm{meta-}c_{2,1}^0\right)}
    {F_{\mathcal{D}_s(\textrm{meta-}d')}\left(\textrm{meta-}c\right)}
    &amp; \textrm{if } r=0, c=1 \\
    
    \frac{F_{\mathcal{D}_s(\textrm{meta-}d')}\left(\textrm{meta-}c_{2,k}^0\right)
-
    F_{\mathcal{D}_s(\textrm{meta-}d')}\left(\textrm{meta-}c_{2,k+1}^0\right)}
    {F_{\mathcal{D}_s(\textrm{meta-}d')}\left(\textrm{meta-}c\right)}  
    &amp; \textrm{if } r=0, 1 \le c \le K \\
    
    \frac{F_{\mathcal{D}_s(\textrm{meta-}d')}\left(\textrm{meta-}c_{2,K}^0\right)}
    {F_{\mathcal{D}_s(\textrm{meta-}d')}\left(\textrm{meta-}c\right)}
    &amp; \textrm{if } r=0, c = K \\
    
    \frac{F_{\mathcal{D}_s(\textrm{meta-}d')}\left(\textrm{meta-}c_{2,1}^0\right)
-
    F_{\mathcal{D}_s}\left(\textrm{meta-}c \right)}
    {1 -
F_{\mathcal{D}_s(\textrm{meta-}d')}\left(\textrm{meta-}c\right)}
    &amp; \textrm{if } r=1, c=1 \\
    
    \frac{F_{\mathcal{D}_s(\textrm{meta-}d')}\left(\textrm{meta-}c_{2,k+1}^0\right)
-
    F_{\mathcal{D}_s(\textrm{meta-}d')}\left(\textrm{meta-}c_{2,k}^0\right)}
    {1 -
F_{\mathcal{D}_s(\textrm{meta-}d')}\left(\textrm{meta-}c\right)}
    &amp; \textrm{if } r=1, 1 \le c \le K \\
    
    \frac{1 -
F_{\mathcal{D}_s(\textrm{meta-}d')}\left(\textrm{meta-}c_{2,K}^0
\right)}
    {1 -
F_{\mathcal{D}_s(\textrm{meta-}d')}\left(\textrm{meta-}c\right)}
    &amp; \textrm{if } r=1, c = K
    \end{cases}
\end{align*}</span></p>
<p>In these formulas, the numerator is the probability that <span class="math inline">x_2</span> lies between successive confidence
thresholds and the denominator is the probability of a type 1 response
<span class="math inline">r</span> given the type 2 parameters <span class="math inline">\textrm{meta-}d'</span> and <span class="math inline">\textrm{meta-}c</span> to account for the truncation
of the type 2 signal distributions at <span class="math inline">\textrm{meta-}c</span>.</p>
</div>
<div class="section level2">
<h2 id="joint-model-for-type-1-and-type-2-decisions">Joint model for type 1 and type 2 decisions<a class="anchor" aria-label="anchor" href="#joint-model-for-type-1-and-type-2-decisions"></a>
</h2>
<p>Ultimately, we are interested in the joint type 1 and type 2 response
probabilities for each stimulus. This can be conveniently decomposed
into the type 1 response probability and the conditional type 2 response
probability as follows:</p>
<p><span class="math display">
P(R=r, C=c \;\vert\; S=s) =
P(R=r \;\vert\; S=s) \; P(C=c \;\vert\; R=r, S=s)
</span></p>
<p>Given the joint response probabilities for each stimulus, we can
formulate the log likelihood of the meta-d’ in one of two ways. If
trial-level effects are of interest, one can model individual trials
using a categorical likelihood:</p>
<p><span class="math display">
LL \;=\; \sum_n
\textrm{categorical}\_\textrm{lpmf}\left(\textrm{joint}\_\textrm{response}(r_n,c_n)
\;\vert\; P(R=r_n, C=c_n \;\vert\; S=s_n)\right)
</span></p>
<p>However, this formulation requires the likelihood to be evaluated
once per trial, which for well-powered experiments can take a long time.
So, by default the <code>mRatio</code> package uses a multinomial
likelihood over the aggregated data. Where <span class="math inline">N_{s,r,c}</span> is the number of trials with <span class="math inline">S=s</span>, <span class="math inline">R=r</span>,
and <span class="math inline">C=c</span>:</p>
<p><span class="math display">
\begin{align*}
LL \;&amp;=\; \textrm{multinomial}\_\textrm{lpmf}\left(N_{0,r,c}
\;\vert\; P(R=r, C=c \;\vert\; S=0)\right) \\
&amp;\;\quad+\; \textrm{multinomial}\_\textrm{lpmf}\left(N_{1,r,c}
\;\vert\; P(R=r, C=c \;\vert\; S=1)\right)
\end{align*}
</span></p>
<p>This formulation only requires the model likelihood to be evaluated
twice (once per stimulus), dramatically increasing the efficiency of
model fitting.</p>
</div>
<div class="section level2">
<h2 id="fixing-the-type-1-threshold-for-type-2-responses">Fixing the type 1 threshold for type 2 responses<a class="anchor" aria-label="anchor" href="#fixing-the-type-1-threshold-for-type-2-responses"></a>
</h2>
<p>The meta-d’ model requires the parameter <span class="math inline">\textrm{meta-}c</span> to be fixed to be equal with
respect to the type 1 criterion <span class="math inline">c</span>. As
discussed by <span class="citation">(<a href="#ref-maniscalco2014">Maniscalco and Lau 2014</a>)</span>, there
are multiple ways of fixing <span class="math inline">\textrm{meta-}c</span>. The <code>mRatio</code>
package implements two:</p>
<p>Under the fixed parameterization, <span class="math inline">\textrm{meta-}c = c</span>. This parameterization is
used as the default, since it was also used in the <a href="https://github.com/metacoglab/HMeta-d" class="external-link">Hmeta-d toolbox</a> (see
also <span class="citation">Fleming (<a href="#ref-fleming2017">2017</a>)</span>).</p>
<p>Alternatively, under the relative parameterization, <span class="math inline">\frac{\textrm{meta-}c}{\textrm{meta-}d'} =
\frac{c}{d'}</span>, which is achieved by setting <span class="math inline">\textrm{meta-}c = M c</span>. This parameterization
was used in <span class="citation">(<a href="#ref-maniscalco2012">Maniscalco and Lau 2012</a>, <a href="#ref-maniscalco2014">2014</a>)</span>.</p>
<p>To switch between these two parameterizations, the
<code>fit_metad</code> and <code>sim_metad</code> functions have an
argument <code>metac_absolute</code> which is <code>TRUE</code> by
default. To use the relative parameterization, simply set
<code>metac_absolute=FALSE</code> in your call to each function.</p>
</div>
<div class="section level2">
<h2 id="model-parameterization">Model parameterization<a class="anchor" aria-label="anchor" href="#model-parameterization"></a>
</h2>
<p>To further increase the efficiency model fitting and help with
convergence, the <code>mRatio</code> parameterizes the meta-d’ model so
that all parameters are unconstrained variables (i.e., they fall in the
range <span class="math inline">(-\infty, \infty)</span>). The
parameters for type 1 responses (<span class="math inline">d'</span>
and <span class="math inline">c</span>) are already unconstrained, so
they are estimated normally. However, the parameters for the type 2
parameters are bounded.</p>
<p>First, instead of fitting <span class="math inline">\textrm{meta-}d'</span> directly, the
<code>mRatio</code> package models the <span class="math inline">M</span>-ratio <span class="math inline">M =
\frac{\textrm{meta-}d'}{d'}</span>. While this parameterization
helps regularize against strong differences between <span class="math inline">\textrm{meta-}d'</span> and <span class="math inline">d'</span>, the <span class="math inline">M</span>-ratio is still bounded by zero. So, the
<code>mRatio</code> package models the <span class="math inline">M</span>-ratio on the logarithmic scale, i.e., <span class="math inline">\textrm{log }M =
\textrm{log}\frac{\textrm{meta-}d'}{d'}</span>. In this
parameterization, one can compute <span class="math inline">\textrm{meta-}d'</span> as <span class="math inline">\textrm{meta-}d' = e^{\textrm{log
}M}d'</span>.</p>
<p>Second, the confidence criteria <span class="math inline">\textrm{meta-}c_{2,1:K}^0</span> and <span class="math inline">\textrm{meta-}c_{2,1:K}^1</span> each have two
constraints. Namely, <span class="math inline">\textrm{meta-}c_{2,1:K}^0</span> must be strictly
decreasing and less than <span class="math inline">\textrm{meta-}c</span>, whereas <span class="math inline">\textrm{meta-}c_{2,1:K}^1</span> must be strictly
increasing and greater than <span class="math inline">\textrm{meta-}c</span>. To deal with these
constraints, the <code>mRatio</code> package estimates the differences
between successive confidence criteria:</p>
<p><span class="math display">
\textrm{dmeta-}c_{2,k}^0 = \begin{cases}
  \textrm{meta-}c - \textrm{meta-}c_{2,1}^0 &amp; \textrm{if } k = 1 \\
  \textrm{meta-}c_{2,k-1}^0  - \textrm{meta-}c_{2,k}^0 &amp; \textrm{if
} 2 \le k \le K
\end{cases}
</span> <span class="math display">
\textrm{dmeta-}c_{2,k}^1 = \begin{cases}
  \textrm{meta-}c_{2,1}^0 - \textrm{meta-}c &amp; \textrm{if } k = 1 \\
  \textrm{meta-}c_{2,k}^1  - \textrm{meta-}c_{2,k-1}^1 &amp; \textrm{if
} 2 \le k \le K
\end{cases}
</span></p>
<p>Like for <span class="math inline">M</span>-ratio, the differences
between successive confidence criteria are also modeled on the
logarithmic scale (parameters are named
<code>metac2zero&lt;k&gt;diff</code> and
<code>metac2one&lt;k&gt;diff</code>). Under this parameterization, the
confidence criteria can be computed as follows:</p>
<p><span class="math display">
\begin{align*}
\textrm{meta-}c_2^0 &amp;= \textrm{meta-}c -
\textrm{cumulative}\_\textrm{sum}\left(e^{\textrm{dmeta-}c_2^0}\right)
\\
\textrm{meta-}c_2^1 &amp;= \textrm{meta-}c +
\textrm{cumulative}\_\textrm{sum}\left(e^{\textrm{dmeta-}c_2^1}\right)
\end{align*}
</span></p>
</div>
<div class="section level2 unnumbered">
<h2 class="unnumbered" id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<div id="refs" class="references csl-bib-body hanging-indent" entry-spacing="0">
<div id="ref-fleming2017" class="csl-entry">
Fleming, Stephen M. 2017. <span>“HMeta-d: Hierarchical Bayesian
Estimation of Metacognitive Efficiency from Confidence Ratings.”</span>
<em>Neuroscience of Consciousness</em> 2017 (1): nix007.
</div>
<div id="ref-maniscalco2012" class="csl-entry">
Maniscalco, Brian, and Hakwan Lau. 2012. <span>“A Signal Detection
Theoretic Approach for Estimating Metacognitive Sensitivity from
Confidence Ratings.”</span> <em>Consciousness and Cognition</em> 21 (1):
422–30.
</div>
<div id="ref-maniscalco2014" class="csl-entry">
———. 2014. <span>“Signal Detection Theory Analysis of Type 1 and Type 2
Data: Meta-d′, Response-Specific Meta-d′, and the Unequal Variance SDT
Model.”</span> In <em>The Cognitive Neuroscience of Metacognition</em>,
25–66. Springer.
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Kevin O’Neill.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
